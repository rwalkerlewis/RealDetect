# RealDetect Configuration File
# Real-time Seismic Event Processing and Detection

[seedlink]
# SeedLink server connection
host = localhost
port = 18000
timeout = 30
reconnect_interval = 10
auto_reconnect = true

[streams]
# Default streams to request (comma-separated)
# Format: NETWORK_STATION:SELECTOR
#streams = IU_ANMO:BH?, IU_CCM:BH?, IU_HRV:BH?

[playback]
# Playback mode configuration
# Enable playback from MiniSEED files instead of real-time
enabled = false
# Speed multiplier (1.0 = real-time, 0 = as fast as possible)
speed = 1.0
# MiniSEED file or directory path
#file = data.mseed
#directory = /path/to/miniseed/files

[picker]
# Picker type: stalta, aic, ml
type = stalta

# STA/LTA picker configuration
sta_length = 0.5
lta_length = 10.0
trigger_ratio = 3.5
detrigger_ratio = 1.5

# Filter settings
filter_enabled = true
filter_low = 1.0
filter_high = 20.0

# Minimum SNR for valid picks
min_snr = 3.0

# Minimum gap between picks on same channel (seconds)
min_gap = 2.0

# ML picker configuration
ml_model_path = 
ml_probability_threshold = 0.5

[associator]
# Phase association parameters
time_window = 60.0
max_residual = 3.0
min_stations = 3
min_phases = 4
search_radius = 500.0

[locator]
# Hypocenter location parameters
algorithm = geiger

# Grid search parameters
grid_h_step = 5.0
grid_z_step = 5.0
grid_search_radius = 200.0
grid_refinement_levels = 3

# Geiger method parameters
geiger_max_iterations = 20
geiger_convergence = 0.001
geiger_damping = 0.5

# Depth constraints
depth_min = 0.0
depth_max = 50.0
fixed_depth = false
default_depth = 10.0

[velocity_model]
# Use built-in model or load from file
# Options: iasp91, ak135, simple3layer, or path to file
model = simple3layer
# model_file = /path/to/velocity_model.txt

# Regional velocity models
# Enable to use location-specific velocity models
regional_models_enabled = false
regional_models_dir = config/velocity_models
# regional_models_config = config/velocity_models.conf

[magnitude]
# Local magnitude (ML) parameters
ml_enabled = true
ml_a = 1.0
ml_b = 0.00301
ml_c = 3.0
ml_min_distance = 5.0
ml_max_distance = 600.0
ml_simulate_wa = true

# Moment magnitude (Mw) parameters
mw_enabled = true
mw_density = 2700.0
mw_velocity = 3500.0
mw_quality_factor = 200.0
mw_freq_min = 1.0
mw_freq_max = 20.0

# Minimum magnitude to compute Mw
mw_min_ml = 3.0

[database]
# CSS3.0 Database Configuration
# Enable database output (stores events, arrivals, magnitudes in CSS3.0 format)
enabled = false
# Database file path (SQLite)
file = realdetect_catalog.db
# Author field for database records
author = realdetect
# Network code for magnitude records
network = XX
# Auto-create schema on first run
auto_create_schema = true

[output]
# Output configuration
log_level = info
log_file = realdetect.log

# Event output
event_format = json
event_directory = events

# Real-time alerts
alert_enabled = false
alert_min_magnitude = 4.0
